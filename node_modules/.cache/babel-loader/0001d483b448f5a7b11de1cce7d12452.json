{"ast":null,"code":"import _slicedToArray from\"/Users/artempudovkin/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];function handleChangeName(evt){setName(evt.target.value);}function handleChangeDescription(evt){setDescription(evt.target.value);}function handleSubmit(evt){evt.preventDefault();onUpdateUser({name:name,about:description});}React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);return/*#__PURE__*/_jsxs(PopupWithForm,{title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",name:\"profile\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,handleSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"form-name-input\",type:\"text\",className:\"popup__field popup__field_name\",name:\"name\",value:name||\"\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleChangeName}),/*#__PURE__*/_jsx(\"span\",{className:\"form-name-input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form-profession-input\",type:\"text\",className:\"popup__field popup__field_profession\",name:\"about\",value:description||\"\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",required:true,minLength:\"2\",maxLength:\"200\",onChange:handleChangeDescription}),/*#__PURE__*/_jsx(\"span\",{className:\"form-profession-input-error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/artempudovkin/dev/mesto-react/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","useContext","useState","name","setName","description","setDescription","handleChangeName","evt","target","value","handleChangeDescription","handleSubmit","preventDefault","about","useEffect"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAAQC,kBAAR,KAAiC,gCAAjC,C,wFAEA,QAASC,CAAAA,gBAAT,MAA2D,IAAhCC,CAAAA,MAAgC,MAAhCA,MAAgC,CAAxBC,OAAwB,MAAxBA,OAAwB,CAAfC,YAAe,MAAfA,YAAe,CACvD,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBN,kBAAjB,CAApB,CAEA,oBAAwBF,KAAK,CAACS,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCX,KAAK,CAACS,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEA,QAASC,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC3BJ,OAAO,CAACI,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCH,GAAjC,CAAsC,CAClCF,cAAc,CAACE,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACH,CAED,QAASE,CAAAA,YAAT,CAAsBJ,GAAtB,CAA2B,CACvBA,GAAG,CAACK,cAAJ,GACAd,YAAY,CAAC,CACTI,IAAI,CAAEA,IADG,CAETW,KAAK,CAAET,WAFE,CAAD,CAAZ,CAIH,CAEDZ,KAAK,CAACsB,SAAN,CAAgB,UAAM,CAClBX,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACc,KAAb,CAAd,CACH,CAHD,CAGG,CAACd,WAAD,CAHH,EAKA,mBACI,MAAC,aAAD,EACI,KAAK,CAAC,2HADV,CAEI,IAAI,CAAC,SAFT,CAGI,UAAU,CAAC,wDAHf,CAII,MAAM,CAAEH,MAJZ,CAKI,OAAO,CAAEC,OALb,CAMI,YAAY,CAAEc,YANlB,wBAOI,cAAO,EAAE,CAAC,iBAAV,CAA4B,IAAI,CAAC,MAAjC,CAAwC,SAAS,CAAC,gCAAlD,CAAmF,IAAI,CAAC,MAAxF,CACO,KAAK,CAAET,IAAI,EAAI,EADtB,CAEO,WAAW,CAAC,oBAFnB,CAEyB,QAAQ,KAFjC,CAEkC,SAAS,CAAC,GAF5C,CAEgD,SAAS,CAAC,IAF1D,CAGO,QAAQ,CAAEI,gBAHjB,EAPJ,cAWI,aAAM,SAAS,CAAC,uBAAhB,EAXJ,cAYI,cAAO,EAAE,CAAC,uBAAV,CAAkC,IAAI,CAAC,MAAvC,CAA8C,SAAS,CAAC,sCAAxD,CACO,IAAI,CAAC,OADZ,CAEO,KAAK,CAAEF,WAAW,EAAI,EAF7B,CAGO,WAAW,CAAC,wDAHnB,CAG+B,QAAQ,KAHvC,CAGwC,SAAS,CAAC,GAHlD,CAGsD,SAAS,CAAC,KAHhE,CAIO,QAAQ,CAAEM,uBAJjB,EAZJ,cAiBI,aAAM,SAAS,CAAC,6BAAhB,EAjBJ,GADJ,CAqBH,CAED,cAAef,CAAAA,gBAAf","sourcesContent":["import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('')\n    const [description, setDescription] = React.useState('')\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onUpdateUser({\n            name: name,\n            about: description,\n        });\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser])\n\n    return (\n        <PopupWithForm\n            title=\"Редактировать профиль\"\n            name=\"profile\"\n            buttonText=\"Сохранить\"\n            isOpen={isOpen}\n            onClose={onClose}\n            handleSubmit={handleSubmit}>\n            <input id=\"form-name-input\" type=\"text\" className=\"popup__field popup__field_name\" name=\"name\"\n                   value={name || \"\"}\n                   placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\"\n                   onChange={handleChangeName}/>\n            <span className=\"form-name-input-error\"></span>\n            <input id=\"form-profession-input\" type=\"text\" className=\"popup__field popup__field_profession\"\n                   name=\"about\"\n                   value={description || \"\"}\n                   placeholder=\"Профессия\" required minLength=\"2\" maxLength=\"200\"\n                   onChange={handleChangeDescription}/>\n            <span className=\"form-profession-input-error\"></span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup"]},"metadata":{},"sourceType":"module"}